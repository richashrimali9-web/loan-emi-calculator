import{r as f,j as e}from"./react-C0Fj75IP.js";import{c as Z}from"./react-dom-EXyTz37M.js";import{c as ee}from"./clsx-B-dksMZM.js";import{t as te}from"./tailwind-merge-D6B6e0vX.js";import{S as W,R as ae,a as se,L as re,T as ie,C as ne,b as le,V as oe,c as ce,d as de,e as me,f as xe,g as pe,h as ue,i as he,j as ge,k as be,l as fe}from"./@radix-ui-CJPO_Q2x.js";import{c as X}from"./class-variance-authority-B8k91cqS.js";import{E as q}from"./jspdf-BiCMmzbc.js";import"./jspdf-autotable-WS9NJXkA.js";import{T as je,H as ve,U as ye,C as Ne,P as we,a as O,b as D,D as Ce,c as Se}from"./lucide-react-HbPE1p_o.js";import{R as _,A as Pe,C as $,X as B,Y as V,T as Y,L as G,a as K,b as ke,c as Fe}from"./recharts-BKmp2lgZ.js";import"./core-js-DlAkEqUg.js";import"./scheduler-CoSDG3-6.js";import"./@babel-BgpAVVkQ.js";import"./fflate-_ayOYiT1.js";import"./lodash-62VrY_kq.js";import"./react-smooth-CFNsAvLJ.js";import"./prop-types-kYW7kWT3.js";import"./fast-equals-BZzMcSdc.js";import"./tiny-invariant-BaFNuDhB.js";import"./react-is-BpBQ4hf7.js";import"./d3-shape-nwul2LtV.js";import"./d3-path-CimkQT29.js";import"./victory-vendor-DUBx-XN0.js";import"./d3-scale-_jV4VZB3.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-j2_s_XYn.js";import"./d3-time-g9mLz1m7.js";import"./d3-interpolate-CCf1iqz-.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-C1tgrEou.js";import"./decimal.js-light-DQE-3iDJ.js";import"./eventemitter3-cvJOXV9x.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();function u(...t){return te(ee(t))}const N=f.forwardRef(({className:t,...i},s)=>e.jsx("div",{ref:s,"data-slot":"card",className:u("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...i}));N.displayName="Card";const Ie=X("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function k({className:t,variant:i,size:s,asChild:o=!1,...r}){const n=o?W:"button";return e.jsx(n,{"data-slot":"button",className:u(Ie({variant:i,size:s,className:t})),...r})}function T({className:t,type:i,...s}){return e.jsx("input",{type:i,"data-slot":"input",className:u("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}function z({className:t,...i}){return e.jsx(ae,{"data-slot":"label",className:u("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...i})}function Te({className:t,...i}){return e.jsx(se,{"data-slot":"tabs",className:u("flex flex-col gap-2",t),...i})}function ze({className:t,...i}){return e.jsx(re,{"data-slot":"tabs-list",className:u("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...i})}function M({className:t,...i}){return e.jsx(ie,{"data-slot":"tabs-trigger",className:u("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function Me({className:t,...i}){return e.jsx(ne,{"data-slot":"tabs-content",className:u("flex-1 outline-none",t),...i})}const Re=X("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function R({className:t,variant:i,asChild:s=!1,...o}){const r=s?W:"span";return e.jsx(r,{"data-slot":"badge",className:u(Re({variant:i}),t),...o})}function Ae({className:t,children:i,...s}){return e.jsxs(le,{"data-slot":"scroll-area",className:u("relative",t),...s,children:[e.jsx(oe,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full overflow-x-auto overflow-y-auto rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:i}),e.jsx(H,{}),e.jsx(H,{orientation:"horizontal"}),e.jsx(ce,{})]})}function H({className:t,orientation:i="vertical",...s}){return e.jsx(de,{"data-slot":"scroll-area-scrollbar",orientation:i,className:u("flex touch-none p-px transition-colors select-none",i==="vertical"&&"h-full w-2.5 border-l border-l-transparent",i==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...s,children:e.jsx(me,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function A({className:t,defaultValue:i,value:s,min:o=0,max:r=100,...n}){const c=f.useMemo(()=>Array.isArray(s)?s:Array.isArray(i)?i:[o,r],[s,i,o,r]);return e.jsxs(xe,{"data-slot":"slider",defaultValue:i,value:s,min:o,max:r,className:u("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...n,children:[e.jsx(pe,{"data-slot":"slider-track",className:u("bg-blue-200 relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:e.jsx(ue,{"data-slot":"slider-range",className:u("bg-blue-600 absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:c.length},(F,w)=>e.jsx(he,{"data-slot":"slider-thumb",className:"bg-white border-white ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},w))]})}function Le({...t}){return e.jsx(ge,{"data-slot":"collapsible",...t})}function Ee({...t}){return e.jsx(be,{"data-slot":"collapsible-trigger",...t})}function Oe({...t}){return e.jsx(fe,{"data-slot":"collapsible-content",...t})}function U(t,i="download-basic.pdf"){const s=new q("p","mm","a4"),o=15;let r=20;s.setFontSize(14),s.text(t.title||"Loan EMI Summary",o,r),s.setFontSize(10),r+=10,t.meta&&(Object.entries(t.meta).forEach(([n,c])=>{s.text(`${n}: ${c}`,o,r),r+=7}),r+=4),t.rows&&t.rows.length&&(s.setFontSize(12),s.text("Details:",o,r),r+=8,s.setFontSize(10),t.rows.forEach(n=>{const c=s.splitTextToSize(n,180);s.text(c,o,r),r+=c.length*6,r>270&&(s.addPage(),r=20)})),s.save(i)}function De(t,i="amortization-table.pdf"){const s=new q("p","mm","a4");s.internal.pageSize.getWidth(),s.setFontSize(14),s.text("Amortization Schedule",14,16);const o=[["Month","EMI","Principal","Interest","Balance"]],r=t.map(n=>[n.month.toString(),n.emi.toFixed(0),n.principal.toFixed(0),n.interest.toFixed(0),n.balance.toFixed(0)]);s.autoTable({startY:22,head:o,body:r,styles:{fontSize:9},headStyles:{fillColor:[60,60,60]},alternateRowStyles:{fillColor:[245,245,245]},margin:{left:14,right:14},theme:"striped"}),s.save(i)}function _e(){const[t,i]=f.useState("home"),[s,o]=f.useState("5000000"),[r,n]=f.useState("8.5"),[c,F]=f.useState("20"),[w,J]=f.useState(!1),[I,L]=f.useState("graph"),j=(()=>{const a=parseFloat(s),l=parseFloat(r)/12/100,h=parseFloat(c)*12,x=a*l*Math.pow(1+l,h)/(Math.pow(1+l,h)-1);return isNaN(x)?0:x})(),C=j*parseFloat(c)*12,S=C-parseFloat(s),P=()=>{const a=[];let l=parseFloat(s);const h=parseFloat(r)/12/100,x=parseFloat(c)*12;for(let g=1;g<=x;g++){const b=l*h,p=j-b;if(l-=p,a.push({month:g,emi:j,principal:p,interest:b,balance:Math.max(0,l),totalPrincipal:parseFloat(s)-l,totalInterest:j*g-(parseFloat(s)-l)}),l<=0)break}return a},E=()=>{const a=P(),l=[],h=Math.ceil(a.length/12);for(let x=1;x<=h;x++){const g=Math.min(x*12,a.length),b=a[g-1];l.push({year:`Y${x}`,yearFull:`Year ${x}`,balance:b.balance,principalPaid:b.totalPrincipal,interestPaid:b.totalInterest})}return l},m=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(a),y=a=>a>=1e7?`₹${(a/1e7).toFixed(1)}Cr`:a>=1e5?`₹${(a/1e5).toFixed(1)}L`:m(a),d=(()=>{switch(t){case"home":return{principal:{min:1e5,max:5e7,step:1e5},rate:{min:6,max:15,step:.1},tenure:{min:1,max:30,step:1}};case"personal":return{principal:{min:5e4,max:5e6,step:5e4},rate:{min:10,max:25,step:.1},tenure:{min:1,max:7,step:1}};case"car":return{principal:{min:1e5,max:1e7,step:5e4},rate:{min:7,max:18,step:.1},tenure:{min:1,max:7,step:1}};default:return{principal:{min:1e5,max:5e7,step:1e5},rate:{min:6,max:15,step:.1},tenure:{min:1,max:30,step:1}}}})(),Q=()=>{const a=P(),l={};return a.forEach(h=>{const x=Math.ceil(h.month/12);l[x]||(l[x]=[]),l[x].push(h)}),l};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(N,{className:"overflow-hidden border-0 shadow-xl",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 p-8 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(je,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-white",children:"Unified Loan EMI Calculator"})]}),e.jsx("p",{className:"text-blue-100",children:"Calculate your monthly EMI with precision and clarity"})]}),e.jsx("div",{className:"p-6",children:e.jsxs(Te,{value:t,onValueChange:i,className:"w-full",children:[e.jsxs(ze,{className:"grid w-full grid-cols-3 h-auto p-1",children:[e.jsxs(M,{value:"home",className:"gap-1 py-3",children:[e.jsx(ve,{className:"w-4 h-4"}),"Home Loan"]}),e.jsxs(M,{value:"personal",className:"gap-1 py-3",children:[e.jsx(ye,{className:"w-4 h-4"}),"Personal Loan"]}),e.jsxs(M,{value:"car",className:"gap-1 py-3",children:[e.jsx(Ne,{className:"w-4 h-4"}),"Car Loan"]})]}),e.jsx(Me,{value:t,className:"mt-6 space-y-6",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-blue-600 text-xl",children:"₹"}),"Principal Amount"]}),e.jsx("div",{className:"flex gap-3 items-center",children:e.jsx(T,{type:"number",value:s,onChange:a=>o(a.target.value),className:"h-12 border-2 focus:border-blue-500",min:d.principal.min,max:d.principal.max})}),e.jsx(A,{value:[parseFloat(s)||d.principal.min],onValueChange:a=>o(a[0].toString()),min:d.principal.min,max:d.principal.max,step:d.principal.step,className:"mt-2 text-blue-600 [&_.bg-primary]:bg-blue-600 [&_.bg-secondary]:bg-blue-200"}),t==="home"&&e.jsx("p",{className:"text-xs text-gray-500",children:"Typical home loan: ₹10L-₹5Cr"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-4 h-4 text-purple-600"}),"Annual Interest Rate (%)"]}),e.jsx("div",{className:"flex gap-3 items-center",children:e.jsx(T,{type:"number",step:"0.1",value:r,onChange:a=>n(a.target.value),className:"h-12 border-2 focus:border-purple-500",min:d.rate.min,max:d.rate.max})}),e.jsx(A,{value:[parseFloat(r)||d.rate.min],onValueChange:a=>n(a[0].toFixed(1)),min:d.rate.min,max:d.rate.max,step:d.rate.step,className:"mt-2 text-blue-600 [&_.bg-primary]:bg-blue-600 [&_.bg-secondary]:bg-blue-200"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Lower rates for secured loans"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4 text-indigo-600"}),"Tenure (Years)"]}),e.jsx("div",{className:"flex gap-3 items-center",children:e.jsx(T,{type:"number",value:c,onChange:a=>F(a.target.value),className:"h-12 border-2 focus:border-indigo-500",min:d.tenure.min,max:d.tenure.max})}),e.jsx(A,{value:[parseFloat(c)||d.tenure.min],onValueChange:a=>F(a[0].toString()),min:d.tenure.min,max:d.tenure.max,step:d.tenure.step,className:"mt-2 text-blue-600 [&_.bg-primary]:bg-blue-600 [&_.bg-secondary]:bg-blue-200"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Longer tenor = lower EMI but more interest"})]})]})})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs(N,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-blue-900",children:"Monthly EMI"}),e.jsx(R,{className:"bg-blue-600",children:"Primary"})]}),e.jsx("p",{className:"text-blue-950 text-3xl",children:m(j)}),e.jsxs("p",{className:"text-blue-700 text-sm mt-2",children:["Per month for ",c," years"]})]}),e.jsxs(N,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-purple-900",children:"Total Payment"}),e.jsx(R,{className:"bg-purple-600",children:"Summary"})]}),e.jsx("p",{className:"text-purple-950 text-3xl",children:m(C)}),e.jsx("p",{className:"text-purple-700 text-sm mt-2",children:"Principal + Interest"})]}),e.jsxs(N,{className:"border-0 shadow-lg bg-gradient-to-br from-orange-50 to-orange-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-orange-900",children:"Total Interest"}),e.jsx(R,{className:"bg-orange-600",children:"Cost"})]}),e.jsx("p",{className:"text-orange-950 text-3xl",children:m(S)}),e.jsxs("p",{className:"text-orange-700 text-sm mt-2",children:[(S/parseFloat(s)*100).toFixed(1),"% of principal"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(k,{className:"flex-1 min-w-[200px] h-12 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 gap-2",onClick:()=>J(!w),children:[e.jsx(D,{className:"w-4 h-4"}),w?"Hide":"View"," Amortization Schedule"]}),e.jsxs(k,{variant:"outline",className:"flex-1 min-w-[200px] h-12 gap-2",onClick:async()=>{try{try{const a=P();De(a,"amortization-table.pdf")}catch(a){console.error("Table PDF export failed, falling back to basic PDF",a),U({title:"Amortization Summary",meta:{EMI:m(j),"Total Payment":m(C),"Total Interest":m(S)},rows:["A detailed schedule could not be exported."]},"amortization-summary.pdf")}}catch(a){console.error("PDF export failed",a),U({title:"Amortization Summary",meta:{EMI:m(j),"Total Payment":m(C),"Total Interest":m(S)},rows:["A detailed schedule could not be exported."]},"amortization-summary.pdf")}},children:[e.jsx(Ce,{className:"w-4 h-4"}),"Download Schedule (PDF)"]})]}),w&&e.jsxs(N,{className:"border-0 shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white",children:"Amortization Schedule"}),e.jsx("p",{className:"text-slate-300",children:"Payment breakdown over time"})]}),e.jsxs("div",{className:"flex gap-2 bg-slate-700/50 p-1 rounded-lg",children:[e.jsxs(k,{size:"sm",variant:I==="graph"?"secondary":"ghost",onClick:()=>L("graph"),className:"gap-2",children:[e.jsx(D,{className:"w-4 h-4"}),"Graph"]}),e.jsxs(k,{size:"sm",variant:I==="table"?"secondary":"ghost",onClick:()=>L("table"),className:"gap-2",children:[e.jsx(O,{className:"w-4 h-4"}),"Table"]})]})]})}),I==="graph"?e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-gray-900 mb-4",children:"Payment Breakdown Over Years"}),e.jsx(_,{width:"100%",height:300,children:e.jsxs(Pe,{data:E(),children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorPrincipal",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),e.jsxs("linearGradient",{id:"colorInterest",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:.1})]})]}),e.jsx($,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(B,{dataKey:"year"}),e.jsx(V,{tickFormatter:a=>y(a)}),e.jsx(Y,{formatter:a=>m(a),contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),e.jsx(G,{}),e.jsx(K,{type:"monotone",dataKey:"principalPaid",stackId:"1",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorPrincipal)",name:"Principal Paid"}),e.jsx(K,{type:"monotone",dataKey:"interestPaid",stackId:"1",stroke:"#f59e0b",fillOpacity:1,fill:"url(#colorInterest)",name:"Interest Paid"})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-gray-900 mb-4",children:"Outstanding Loan Balance"}),e.jsx(_,{width:"100%",height:250,children:e.jsxs(ke,{data:E(),children:[e.jsx($,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(B,{dataKey:"year"}),e.jsx(V,{tickFormatter:a=>y(a)}),e.jsx(Y,{formatter:a=>m(a),contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),e.jsx(G,{}),e.jsx(Fe,{type:"monotone",dataKey:"balance",stroke:"#8b5cf6",strokeWidth:3,dot:{fill:"#8b5cf6",r:4},name:"Remaining Balance"})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Total Months"}),e.jsx("p",{className:"text-gray-900 text-2xl",children:parseFloat(c)*12})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Total EMI Payments"}),e.jsx("p",{className:"text-gray-900 text-2xl",children:y(C)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Interest Rate"}),e.jsxs("p",{className:"text-gray-900 text-2xl",children:[r,"%"]})]})]})]}):e.jsxs("div",{children:[e.jsx(Ae,{className:"h-[500px]",children:e.jsx("div",{className:"space-y-2",children:Object.entries(Q()).map(([a,l])=>{const h=parseInt(a),x=l.reduce((p,v)=>p+v.emi,0),g=l.reduce((p,v)=>p+v.principal,0),b=l.reduce((p,v)=>p+v.interest,0);return l[l.length-1].balance,e.jsx(Le,{defaultOpen:h===1,children:e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx(Ee,{className:"w-full bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 transition-colors p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Se,{className:"w-5 h-5 transition-transform [[data-state=open]>&]:rotate-90"}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h4",{className:"text-gray-900",children:["Year ",h]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[l.length," payments"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6 text-right",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Total EMI"}),e.jsx("p",{className:"text-gray-900",children:y(x)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-700",children:"Principal"}),e.jsx("p",{className:"text-blue-900",children:y(g)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-orange-700",children:"Interest"}),e.jsx("p",{className:"text-orange-900",children:y(b)})]})]})]})}),e.jsx(Oe,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[600px]",children:[e.jsx("thead",{className:"bg-slate-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left text-sm",children:"Month"}),e.jsx("th",{className:"p-3 text-right text-sm",children:"EMI"}),e.jsx("th",{className:"p-3 text-right text-sm",children:"Principal"}),e.jsx("th",{className:"p-3 text-right text-sm",children:"Interest"}),e.jsx("th",{className:"p-3 text-right text-sm",children:"Balance"})]})}),e.jsx("tbody",{children:l.map((p,v)=>e.jsxs("tr",{className:"border-b hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"p-3 text-sm",children:p.month}),e.jsx("td",{className:"p-3 text-right text-sm",children:m(p.emi)}),e.jsx("td",{className:"p-3 text-right text-sm text-green-700",children:m(p.principal)}),e.jsx("td",{className:"p-3 text-right text-sm text-orange-700",children:m(p.interest)}),e.jsx("td",{className:"p-3 text-right text-sm",children:m(p.balance)})]},v))})]})})})]})},h)})})}),e.jsx("div",{className:"p-4 bg-slate-50 border-t",children:e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Showing all ",P().length," monthly payments grouped by year"]})})]})]}),e.jsx("p",{className:"text-center text-xs text-gray-500",children:"Calculated EMI is for reference only. Please verify with your lender."})]})}function $e(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-4 md:p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(_e,{})})})}Z.createRoot(document.getElementById("root")).render(e.jsx($e,{}));
